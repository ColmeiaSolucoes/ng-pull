"use strict";!function(e){}(angular.module("ngPull",["ngOnPull","ngPullContainer","ngPullTarget","ngPullService"])),function(e){function n(e){this.$factories=t,this.$$rAF=e}e.service("ngPullService",["$$rAF",n]);var t={down:{canBegin:function(e){return 0===Math.floor(e.prop("scrollTop"))},distance:function(e,n){return e.clientY-n.clientY},cssProp:"margin-top"},up:{canBegin:function(e){return Math.round(e.prop("scrollTop"))===e.prop("scrollHeight")-e.prop("clientHeight")},distance:function(e,n){return n.clientY-e.clientY},cssProp:"height"},left:{canBegin:function(e){return 0===Math.floor(e.prop("scrollLeft"))},distance:function(e,n){return n.clientX-e.clientX},cssProp:"width"},right:{canBegin:function(e){return Math.round(e.prop("scrollLeft"))===e.prop("scrollWidth")-e.prop("clientWidth")},distance:function(e,n){return e.clientX-n.clientX},cssProp:"width"}};n.prototype.getFactory=function(e){return t[e]},n.prototype.invokeOncePerFrame=function(e){var n,t,o,r,i;return i=this,function(){n=arguments,r=this,o=e,t||(t=!0,i.$$rAF(function(){o.apply(r,Array.prototype.slice.call(n)),t=!1}))}}}(angular.module("ngPullService",[])),function(e){function n(e){function n(n,c,s){function a(){this.queue=[]}function p(a,p,g,v){function h(e){!f.canBegin(p)||v.suspended||1!==e.which&&0!==e.which||(L.on(t.move,P),L.on(t.end,w),d=i(e),C=Date.now(),v.suspended=!0,y=!1)}function P(n){var o=100*f.distance(i(n),d)/(1*S.distance);o<=S.threshold&&Date.now()-C>S.timeout&&!y&&(L.off(t.move,P),L.off(t.end,w),v.suspended=!1,o=0),o>S.threshold&&(y=!0,("up"==e||"down"===e)&&n.preventDefault(),n.stopPropagation()),D(o)}function m(n){0>n&&(n=0),n>100&&(n=100),n>0?(p.addClass(l),T.addClass(o)):(p.removeClass(l),T.removeClass(o)),a.$eval(S.progress+"=value",{value:n}),"up"===e&&p.prop("scrollTop",p.prop("scrollTop")+S.distance),"right"===e&&p.prop("scrollLeft",p.prop("scrollLeft")+S.distance),a.$apply()}function w(e){L.off(t.move,P),L.off(t.end,w),p.removeClass(l),T.removeClass(o),S.expression&&a.$eval(S.progress)>=100?a.$eval(S.expression,{$reset:$})!==!1&&($(),D(0)):($(),D(0))}function $(){D(0),v.suspended=!1}var C,y,S=r(g),L=angular.element(c),T=s.find("body"),D=n.invokeOncePerFrame(m);v.options=S,v.suspended=!1,v.queue.forEach(function(e){e()}),a.$eval(S.reset+"=value",{value:$}),g["pull"+u+"Disabled"]?a.$watch(S.disabled,function(e){e?(p.off(t.start,h),$()):p.on(t.start,h)}):p.on(t.start,h)}var d,f=n.getFactory(e);return{controller:a,link:p}}function r(e){var n={};for(var t in c)n[t.toLowerCase()]=e["pull"+u+t]||c[t];return n.expression=e["onPull"+u],n.timeout*=1,n.distance*=1,n.threshold*=1,n}function i(e){return e.originalEvent&&(e=e.originalEvent),e.touches&&(e.clientX=e.touches[0].clientX,e.clientY=e.touches[0].clientY),e}var l="pull-"+e+"-active",u=e[0].toUpperCase()+e.slice(1),c={Distance:100,Progress:"$pull"+u+"Progress",Timeout:300,Threshold:5,Disabled:!1,Reset:"$pull"+u+"Reset"};return n}var t={start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"},o="no-select";e.directive("onPullDown",["ngPullService","$window","$document",n("down")]),e.directive("onPullUp",["ngPullService","$window","$document",n("up")]),e.directive("onPullLeft",["ngPullService","$window","$document",n("left")]),e.directive("onPullRight",["ngPullService","$window","$document",n("right")])}(angular.module("ngOnPull",[])),function(e){function n(e){function n(n){function o(n,t,o,i){i.queue.push(function(){t.addClass("pull-"+e+"-container"),("left"===e||"right"===e)&&(t.children()[0].style.width=i.options.distance+"px"),n.$watch(i.options.progress,function(e){t[0].style[r.cssProp]=e/100*i.options.distance+"px"})})}var r=n.getFactory(e);return{require:"^onPull"+t,link:{post:o},transclude:!0,template:"<div ng-transclude></div>"}}var t=e[0].toUpperCase()+e.slice(1);return n}e.directive("pullDownContainer",["ngPullService",n("down")]),e.directive("pullUpContainer",["ngPullService",n("up")]),e.directive("pullLeftContainer",["ngPullService",n("left")]),e.directive("pullRightContainer",["ngPullService",n("right")])}(angular.module("ngPullContainer",[])),function(e){function n(e){function n(e,n,t,o){n.addClass("pull-target"),o.forEach(function(t,o){t&&t.queue.push(function(){e.$watch(t.options.progress,function(e){n[0].style.marginLeft=(0==o?-1:1)*(e/100*t.options.distance)+"px",n[0].style.marginRight=(0==o?1:-1)*(e/100*t.options.distance)+"px"})})})}return{require:["?^onPullLeft","?^onPullRight"],link:n}}e.directive("pullTarget",["ngPullService",n])}(angular.module("ngPullTarget",[]));